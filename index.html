<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Minimal Survivor</title>
  <link rel="stylesheet" href="main.css" />
</head>
<body>
<canvas id="c"></canvas>

<button class="btn pauseBtn" id="btnPause" aria-label="Pause">⏸</button>
<div class="actionBar" id="actionBar"><div class="fill" id="actionBarFill"></div></div>

<div class="hud">
  <div class="row">
    <div class="badge">
      <span id="time">00:00</span><span>·</span>
      <span id="lvl">Lv 1</span><span>·</span>
      <span id="kills">Kills 0</span><span>·</span>
      <span id="enemiesCount">Enemies 0</span><span>·</span>
      <span id="shots">Bullets 0</span><span>·</span>
      <span id="dps">Dmg 0</span><span>·</span>
      <span id="fps">FPS --</span><span>·</span>
      <span id="wep">W: Bullets</span><span>·</span>
      <span id="rerolls">Reroll 2</span><span>·</span>
      <span id="threat">Threat 1.0</span>
    </div>
  </div>

  <div class="barWrap">
    <span style="width:52px; opacity:.9">HP</span>
    <div class="bar hpBar"><div id="hpbar" class="fill"></div><div id="hpbarPulse" class="pulse"></div></div>
    <span id="hptext" style="opacity:.9"></span>
  </div>
  <div class="barWrap">
    <span style="width:52px; opacity:.9">XP</span>
    <div class="bar xpBar"><div id="xpbar" class="fill"></div></div>
    <span id="xptext" style="opacity:.9"></span>
  </div>
  <div class="barWrap small">
    <span>Totem</span>
    <div class="bar small"><div id="totemBar" class="fill"></div></div>
    <span id="totemText"></span>
  </div>
  <div class="barWrap small">
    <span>Boss</span>
    <div class="bar small"><div id="bossBar" class="fill"></div></div>
    <span id="bossText"></span>
  </div>
  <div class="barWrap small">
    <span>Chest</span>
    <div class="bar small"><div id="chestBar" class="fill"></div></div>
    <span id="chestText"></span>
  </div>

  <div class="bossWrap" id="bossWrap">
    <div class="bossList" id="bossList"></div>
  </div>

  <div class="hint">
    PC: WASD/стрелки · Esc — билд/пауза · Авто-стрельба · Босс каждые 2 минуты · Сундук ~каждые <span id="chestRespawn">35</span> секунд<br/>
    Mobile: джойстик слева
  </div>
</div>

<div class="activeItems" id="activeItems" style="display:none;">
  <div class="actionHint" id="actionHint" style="display:none;"></div>
  <div class="title">Активные предметы</div>
  <div id="activeItemsList"></div>
</div>

<div class="totemTimer" id="totemTimer"></div>
<div class="totemWarning" id="totemWarning">Вернитесь в зону тотема</div>

<div class="overlay" id="mainMenu">
  <div class="panel menuPanel">
    <div class="menuTitle">Minimal Survivor</div>
    <div class="menuSubtitle">Главное меню</div>
    <div class="menuButtons">
      <button class="btn" id="btnMenuProgress" disabled>Прохождение</button>
      <button class="btn primary" id="btnFreePlay">Свободная игра</button>
      <button class="btn" id="btnMenuRecords">Рекорды</button>
      <button class="btn" id="btnMenuSettings">Настройки</button>
      <button class="btn" id="btnMenuInventory" disabled>Инвентарь</button>
    </div>
  </div>
</div>

<div class="overlay" id="start">
  <div class="panel">
    <h2>Выбери персонажа</h2>
    <div class="choices" id="chars"></div>
    <div class="hint">Скаут — усиленные сундуки, Танк — доп. неуязвимость после попаданий, Маг — больше XP и стартовая орбиталка.</div>
  </div>
</div>

<div class="overlay" id="picker">
  <div class="panel">
    <h2 id="pickerTitle">Выбери улучшение</h2>
    <div class="choices" id="choices"></div>
    <div class="toolbar">
      <button class="btn" id="btnReroll">Reroll (R)</button>
      <button class="btn" id="btnSkip">Skip</button>
      <button class="btn" id="btnShowBuild">Build</button>
    </div>
    <div class="hint" id="pickerHint">Клик по карточке или 1/2/3.</div>
  </div>
</div>

<div class="overlay" id="pauseMenu">
  <div class="panel">
    <h2>Пауза — билд</h2>

    <div class="grid2">
      <div class="box">
        <div class="tabs">
          <button class="tab active" id="tabUpgrades">Апгрейды</button>
          <button class="tab" id="tabInventory">Инвентарь</button>
        </div>
        <div class="list" id="buildList"></div>
        <div class="list" id="invList" style="display:none;"></div>
      </div>

      <div class="box">
        <h3>Статы</h3>
        <div class="small" id="buildStats"></div>

        <div class="toolbar" style="margin-top:12px;">
          <button class="btn" id="btnResume">Resume</button>
          <button class="btn" id="btnRestart2">Restart</button>
          <button class="btn" id="btnCopy">Copy stats</button>
          <button class="btn" id="btnRecords">Рекорды</button>
          <button class="btn" id="btnSettings">Настройки</button>
          <button class="btn danger" id="btnHang" style="display:none;">Повеситься</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="overlay" id="restartConfirm">
  <div class="panel menuPanel">
    <h2>Перезапустить игру?</h2>
    <div style="opacity:.9; margin:8px 0 14px;">Прогресс будет потерян.</div>
    <div class="toolbar center">
      <button class="btn danger" id="btnRestartYes">Перезапустить</button>
      <button class="btn" id="btnRestartNo">Отмена</button>
    </div>
  </div>
</div>

<div class="overlay" id="gameover">
  <div class="panel">
    <h2>Game Over</h2>
    <div id="summary" style="opacity:.9; margin:8px 0 14px;"></div>
    <div class="toolbar">
      <button class="btn" id="restart">Restart</button>
      <button class="btn" id="copyStats">Copy stats</button>
      <button class="btn" id="btnRecordsOver">Рекорды</button>
    </div>
  </div>
</div>

<div class="overlay" id="records">
  <div class="panel menuPanel">
    <h2>Рекорды</h2>
    <div class="list" id="recordsList"></div>
    <div class="toolbar">
      <button class="btn" id="btnRecordsClose">Закрыть</button>
    </div>
  </div>
</div>

<div class="overlay" id="settings">
  <div class="panel menuPanel">
    <h2>Настройки</h2>
    <div class="list" id="settingsList">
      <label class="settingRow">
        <span>Показывать числа урона</span>
        <input type="checkbox" id="optShowDamageNumbers" />
      </label>
    </div>
    <div class="toolbar">
      <button class="btn" id="btnSettingsClose">Закрыть</button>
    </div>
  </div>
</div>

<div class="joyWrap" id="joy">
  <div class="joyBase"></div>
  <div class="joyKnob" id="knob"></div>
</div>

<div id="fatal">
  <div class="panel">
    <h2 style="margin:0 0 10px;">Ошибка запуска</h2>
    <div id="fatalText" style="white-space:pre-wrap; opacity:.9"></div>
    <div style="margin-top:12px; opacity:.75">
      Если видишь это — скинь мне этот текст, и я починю под твой браузер.
    </div>
  </div>
</div>

<script src="main.js"></script>
</body>
</html>
